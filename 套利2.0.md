pendle交易api：https://api-v2.pendle.finance/core/docs#tag/sdk/get/v2/sdk/{chainId}/convert
对应demo（需要将合约授权和交易部分补充完整）：https://github.com/pendle-finance/pendle-examples-public/blob/main/hosted-sdk-demo/src/swap.ts
pendleV4路由：RouterV4, deployed on 29/04/2024 at 0x888888888889758F76e7103c6CbF23ABbF58F946



一、套利逻辑：
    只要能“低买高卖”，就能套利！
    
    1.1 以YT买卖为例（PT同理）：
    按ImpliedApy从高到低排序，获取到买单列表中的ImpliedApy最高的前10个买单，循环执行:
    1) 如果买单金额在100usdt(最小交易金额，可设置)以上,即 buy_impliedApy_amount>100usdt,则计算出存在套利空间的"卖方ImpliedApy" = 使用买方的ImpliedApy - 点差（目标ImpliedApy价差），比如买方ImpliedApy=6%，目标价差为1个点，则卖方ImpliedApy=6-1=5%,得出目标卖方ImpliedApy 后，则通过对应api：https://api-v2.pendle.finance/core/docs#tag/markets/get/v1/{chainId}/markets/{address}/swap-amount-to-change-implied-apy，获取到在ImpliedApy达到目标值的流动性深度，即sell_min_impliedApy_amount,如果sell_min_impliedApy_amount >100usdt, 则发送电报通知，然后执行低买高卖操作，从卖方买入min(buy_max_impliedApy_amount,即sell_min_impliedApy_amount)数量的YT，卖给买方，将执行结果发送给电报通知。
    
    2) 如果买方订单金额不足，即buy_impliedApy_amount < 100usdt,则继续往下执行，直到前10个买单全部循环计算完成


    其中买单金额的计算方式:
    1) 如果是购买PT/YT，则取订单数据中的SY的地址以及待交易的数量：currentMakingAmount，通过api获取到SY的价格：curl 'https://api-v2.pendle.finance/core/v1/prices/assets?ids=1-0x5fe30ac5cb1abb0e44cdffb2916c254aeb368650%2C1-0xc5cd692e9b4622ab8cdb57c83a0f99f874a169cd&chainId=1&skip=0&limit=1&type=PENDLE_LP' 
    api的出入参在图片中：
    <img width="1531" height="698" alt="image" src="https://github.com/user-attachments/assets/b5d5838a-fa9b-421a-8669-73b4f287db09" />

    买单金额=SY的价格 * （currentMakingAmount/1e18）

    2）如果是出售PT/YT，同样获取到待交易的数量：currentMakingAmount，然后拿到PT/YT的合约地址，通过api获取到PT/YT的价格，则买单金额=PT/YT的价格 * （currentMakingAmount/1e18）


    
    
    
